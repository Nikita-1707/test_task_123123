<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Form</title>
    <script>
        async function handleLogin(event) {
          event.preventDefault();
          const email = document.getElementById('email').value;
          const password = document.getElementById('password').value;

          // Constructing a URL-encoded string
          const formData = new URLSearchParams();
          formData.append('username', email);
          formData.append('password', password);

          try {
            const response = await fetch('http://localhost:7788/auth/login', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/x-www-form-urlencoded'
              },
              body: formData
            });

            if (response.ok) {
              window.location.href = 'http://localhost:7788';
            } else {
              window.alert('Login failed!');
            }
          } catch (error) {
            alert('An error occurred: ' + error.message);
          }
        }
    </script>
</head>
<body>
<form onsubmit="handleLogin(event)">
    <label for="email">Email:</label> <input type="email" id="email" required>
    <label for="password">Password:</label> <input type="password" id="password" required>
    <button type="submit">Login</button>
</form>
</body>
</html>
<span class="last-character"></span>